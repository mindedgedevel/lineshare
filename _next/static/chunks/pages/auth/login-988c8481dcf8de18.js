(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2505:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return a(7995)}])},7995:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(5893),l=a(9120),r=a.n(l),n=a(9392),c=a.n(n),i=a(7294),m=a(4053),o=a(4856),d=a(2674);function x(e){let{router:s}=e,{isLoading:a,supabaseClient:l}=(0,m.useSessionContext)(),{auth:n}=l,[x,u]=(0,i.useState)(null),{initializing:f,user:p,getRedirect:h,clearRedirect:N}=(0,o.aC)(),[y,_]=(0,i.useState)({email:"",password:""});(0,i.useEffect)(()=>{!f&&(p&&["authenticated"].includes(p.role)&&s.push("/"),p&&["admin"].includes(p.role)&&s.push("/admin/settings/account"))},[s,h,N,f,p]);let g=async()=>{let{error:e}=await n.signInWithPassword({email:y.email,password:y.password});if(e){u(e);return}},w=e=>{let s={...y};if("accept"===e.target.name){s[e.target.name]=e.target.checked,_(s);return}s[e.target.name]=e.target.value,_(s)};return a?(0,t.jsx)(d.Z,{}):(0,t.jsx)("main",{className:"flex flex-col min-h-screen",children:(0,t.jsxs)("section",{className:"flex flex-col lg:flex-row",children:[(0,t.jsx)("div",{className:"flex flex-col justify-center flex-1 min-h-screen bg-gradient-to-br from-primary-400 to-primary-800",children:(0,t.jsxs)("div",{className:"w-full max-w-sm mx-auto leading-4",children:[(0,t.jsx)("h1",{className:"text-white text-5xl font-semibold ".concat(r().className),children:"LINE SHARE"}),(0,t.jsx)("p",{className:"text-sm text-primary-200 ".concat(r().className),children:"Line share systems get new friends ❤️"})]})}),(0,t.jsx)("div",{className:"flex flex-col justify-center flex-1 min-h-screen bg-primary-50",children:(0,t.jsxs)("div",{className:"flex flex-col w-full max-w-sm mx-auto gap-2",children:[(0,t.jsx)("h2",{className:"text-2xl ".concat(c().className," font-semibold"),children:"เข้าสู่ระบบก่อนใช้งาน"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"".concat(c().className," border border-primary-100 rounded-sm p-6 flex flex-col gap-4 bg-white"),children:[(0,t.jsx)("input",{placeholder:"อีเมล",name:"email",className:"text-sm text-primary-900 border border-primary-200 rounded-md w-full p-2 bg-primary-100",type:"text",onChange:w}),(0,t.jsx)("input",{placeholder:"รหัสผ่าน",name:"password",className:"text-sm text-primary-900 border border-primary-200 rounded-md w-full p-2 bg-primary-100",type:"password",onChange:w}),(0,t.jsx)("input",{type:"submit",className:"bg-primary-600 p-2 text-primary-100 text-sm rounded-md cursor-pointer disabled:opacity-50 disabled:hover:cursor-not-allowed",value:"เข้าสู่ระบบ",disabled:!y.email||!y.password}),(0,t.jsxs)("p",{className:"text-xs ".concat(c().className),children:[x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-red-500",children:x.message}),(0,t.jsx)("br",{})]}),"ลืมรหัสผ่านกรุณาติดต่อผู้ดูแลระบบ"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 my-2",children:["\xa9",new Date().getFullYear()," Mindedge Co., Ltd."]})]})})]})})}},9392:function(e){e.exports={style:{fontFamily:"'__Anuphan_87802c'",fontStyle:"normal"},className:"__className_87802c"}},9120:function(e){e.exports={style:{fontFamily:"'__Inter_0ec1f4', '__Inter_Fallback_0ec1f4'",fontStyle:"normal"},className:"__className_0ec1f4"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2505)}),_N_E=e.O()}]);