(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{869:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings/users",function(){return s(7669)}])},5825:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5893),n=s(872),l=s.n(n),i=s(5697),c=s.n(i);function r(e){let{onClick:t,disabled:s,className:n,children:l,type:i}=e;return(0,a.jsx)("button",{className:n,onClick:t,disabled:s,type:i,children:l})}r.propTypes={onClick:c().func,disabled:c().bool,className:c().string,type:c().string,children:c().node.isRequired},r.defaultProps={isButton:!1,onClick:()=>{},disabled:!1,className:"py-2 px-4 text-white text-base bg-primary-600 border-2 border-primary-600 rounded cursor-pointer ".concat(l().className),children:"Button",type:"button"}},853:function(e,t,s){"use strict";s.d(t,{Z:function(){return S}});var a=s(5893),n=s(9084),l=s.n(n),i=s(3977),c=s.n(i),r=s(7294),o=s(1163),d=s(4053),h=s(1664),x=s.n(h);let m=[{label:"บัญชีของฉัน",link:"/"}];function u(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(!1),{supabaseClient:n,session:i}=(0,d.useSessionContext)(),{auth:h}=n,u=i?i.user:null,g=async()=>{s(!t);let{error:e}=await h.signOut();e&&console.log(e)};return(0,a.jsxs)("header",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"px-8 min-h-[64px] flex items-center justify-between border-b",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold ".concat(l().className),children:"LINE SHARE"}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsxs)("div",{onClick:()=>{s(!t)},className:"flex items-center cursor-pointer ".concat(l().className),children:[u&&u.email,(0,a.jsx)("svg",{className:"w-4 h-4 ml-2","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,a.jsx)("div",{className:"z-10 absolute right-0 top-[110%] bg-white divide-y divide-gray-100 rounded-lg shadow w-44 ".concat(t?"block":"hidden"),children:(0,a.jsx)("ul",{className:"py-2 text-sm text-gray-700",children:(0,a.jsx)("li",{children:(0,a.jsxs)("span",{onClick:g,className:"flex px-4 py-2 hover:bg-gray-100 cursor-pointer gap-2 ".concat(c().className," items-center"),children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#21a93a",viewBox:"0 0 256 256",children:(0,a.jsx)("path",{d:"M116,216a12,12,0,0,1-12,12H48a20,20,0,0,1-20-20V48A20,20,0,0,1,48,28h56a12,12,0,0,1,0,24H52V204h52A12,12,0,0,1,116,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L187,116H104a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,224.49,119.51Z"})}),"ออกจากระบบ"]})})})})]})]}),(0,a.jsx)("div",{className:"px-8 flex items-center border-b",children:(0,a.jsx)("nav",{children:(0,a.jsx)("ul",{className:"flex gap-4 ".concat(c().className),children:e.pathname.includes("/admin")?(0,a.jsx)("li",{className:"px-4 py-3 active border-b-4 border-primary-600",children:(0,a.jsx)(x(),{href:"/admin/settings/account",children:"ตั้งค่า"})}):m.map((t,s)=>(0,a.jsx)("li",{className:"px-4 py-3 ".concat(e.pathname===t.link?"active border-b-4 border-primary-600":""),children:(0,a.jsx)(x(),{href:t.link,children:t.label})},s))})})})]})}function g(){return(0,a.jsx)("footer",{className:"px-4 flex items-center border-t",children:(0,a.jsxs)("p",{className:"text-xs text-gray-400 my-2",children:["\xa9",new Date().getFullYear()," Mindedge Co., Ltd."]})})}var p=s(3415),f=s.n(p),j=s(5675),b=s.n(j),N={src:"/_next/static/media/i-link-simple.488b4213.svg",height:32,width:32,blurWidth:0,blurHeight:0},w={src:"/_next/static/media/i-list-dashes.99f19d3d.svg",height:32,width:32,blurWidth:0,blurHeight:0},y={src:"/_next/static/media/i-megaphone.6b0241ef.svg",height:32,width:32,blurWidth:0,blurHeight:0},v={src:"/_next/static/media/i-magic-wand.50682af5.svg",height:32,width:32,blurWidth:0,blurHeight:0},k={src:"/_next/static/media/i-user-circle.e159f561.svg",height:32,width:32,blurWidth:0,blurHeight:0};function _(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(""),n=window.sessionStorage.getItem("acid"),[l,i]=(0,r.useState)({Settings:[{id:"link-account",label:"ลิงก์บัญชี",link:"/settings/link-account",image:N}],Account:[{id:"home-account",label:"Dashboard",link:"/account/".concat(n),image:w},{id:"campaign",label:"แคมเปญทั้งหมด",link:"/account/".concat(n,"/campaign"),image:y},{id:"insight",label:"ข้อมูลเชิงลึก",link:"/account/".concat(n,"/campaign/insight"),image:v}]});return(0,r.useEffect)(()=>{e.pathname.includes("/account")&&!e.pathname.includes("/account/create")?s("Account"):s("")},[e.pathname]),(0,a.jsx)("nav",{className:"md:w-[280px] p-11 bg-gray-50 border-r border-gray-200",children:e.pathname.includes("/admin")?(0,a.jsxs)("ul",{className:"flex flex-col gap-4 ".concat(f().className),children:[(0,a.jsx)("li",{children:(0,a.jsxs)(x(),{href:"/admin/settings/account",className:"flex gap-2",children:[(0,a.jsx)(b(),{src:N,width:24,height:24,alt:"Account"}),"บัญชีทางการ"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(x(),{href:"/admin/settings/users",className:"flex gap-2",children:[(0,a.jsx)(b(),{src:k,width:24,height:24,alt:"Campaign"}),"ผู้ใช้งาน"]})})]}):""!==t&&(0,a.jsx)("ul",{className:"flex flex-col gap-4 ".concat(f().className),children:l[t].map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)(x(),{href:e.link,className:"flex gap-2",children:[(0,a.jsx)(b(),{src:e.image,width:24,height:24,alt:"Insight"}),e.label]})},t))})})}var B=s(1678),C=s.n(B),L=s(5825);function H(e){return e.setButton&&e.setButton.isButton,(0,a.jsxs)("section",{className:"flex justify-between mb-10",children:[(0,a.jsx)("h1",{className:"text-3xl ".concat(C().className),children:e.setPageTitle}),e.setButton&&(0,a.jsx)("div",{children:(0,a.jsx)(L.Z,{onClick:e.setButton.onClick,disabled:e.setButton.disabled,className:e.setButton.className,children:e.setButton.children})})]})}function S(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)("main",{className:"flex flex-row no-warp items-stretch min-h-[calc(100vh-146px)]",children:[(0,a.jsx)(_,{}),(0,a.jsxs)("div",{className:"content w-full max-w-[1160px] p-11",children:[(0,a.jsx)(H,{setPageTitle:e.setPageTitle,setButton:e.setButton}),e.children]})]}),(0,a.jsx)(g,{})]})}},7669:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),n=s(7294),l=s(6637),i=s(853),c=s(1549),r=s.n(c),o=s(8614),d=s.n(o),h=s(5675),x=s.n(h),m=s(1664),u=s.n(m),g={src:"/_next/static/media/user-circle-duotone.195c6d03.svg",height:64,width:64,blurWidth:0,blurHeight:0};function p(e){let{users:t}=e;return(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200 ".concat(r().className),children:t.length?(0,a.jsxs)("table",{className:"w-full border-collapse bg-white text-left text-sm text-gray-500",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-sm text-gray-900",children:"ชื่อผู้ใช้"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-sm text-gray-900",children:"อีเมล"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-right text-sm text-gray-900"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100",children:t.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"flex gap-3 px-6 py-4 font-normal text-gray-900 items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10",children:(0,a.jsx)(x(),{className:"h-full w-full rounded-full object-cover object-center",src:g,width:64,height:64,alt:"Picture pro file image"})}),(0,a.jsx)("div",{className:"px-6 py-4 text-sm font-regular text-gray-800",children:e.user_metadata.fullname?e.user_metadata.fullname:"Not set"})]}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-800 ".concat(d().className),children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)(u(),{"x-data":"{ tooltip: 'Edite' }",href:"/admin/settings/users/edit/".concat(e.id),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6","x-tooltip":"tooltip",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),(0,a.jsx)("a",{"x-data":"{ tooltip: 'Delete' }",href:"#",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6","x-tooltip":"tooltip",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})})]},t))})]}):(0,a.jsx)("div",{className:"".concat(r().className," p-2 text-sm"),children:"ไม่มีข้อมูล"})})}function f(e){let{router:t}=e,{auth:s}=l.g,[c,r]=(0,n.useState)([]),[o,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{h()},[]);let h=async()=>{let{data:{users:e},error:t}=await s.admin.listUsers();if(t){console.log(t),d(t);return}r(e)};return(0,a.jsxs)(i.Z,{setPageTitle:"ผู้ใช้งานทั้งหมด",setButton:{disabled:!1,children:"เพิ่มผู้ใช้ใหม่",onClick:()=>{t.push("/admin/settings/users/create")}},children:[(0,a.jsx)(p,{users:c}),o&&(0,a.jsx)("p",{children:o.message})]})}f.requireAuth=!0,f.role=["admin"]},1549:function(e){e.exports={style:{fontFamily:"'__Anuphan_87802c'",fontStyle:"normal"},className:"__className_87802c"}},8614:function(e){e.exports={style:{fontFamily:"'__Inter_0ec1f4', '__Inter_Fallback_0ec1f4'",fontStyle:"normal"},className:"__className_0ec1f4"}}},function(e){e.O(0,[747,774,888,179],function(){return e(e.s=869)}),_N_E=e.O()}]);